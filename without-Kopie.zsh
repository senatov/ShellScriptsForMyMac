#!/bin/zsh

# Скрипт для переименования файлов: удаление "- Kopie" из имени
# Если файл без "- Kopie" уже существует, он будет перезаписан.

# Поиск всех файлов с именем, содержащим "- Kopie"
find . -type f -name "*- Kopie.*" | while read file; do
  # Генерация нового имени, удаляя "- Kopie"
  new_name=$(echo "$file" | sed 's/- Kopie//')

  # Переименование файла, с перезаписью при необходимости
  mv -f "$file" "$new_name"

  # Логирование процесса в консоль
  echo "Renamed: $file -> $new_name"
done

echo "Переименование завершено!"